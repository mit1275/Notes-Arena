{"ast":null,"code":"import _slicedToArray from\"D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React from\"react\";import{useHistory}from\"react-router-dom\";import Avatar from\"@material-ui/core/Avatar\";import Button from\"@material-ui/core/Button\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Link from\"@material-ui/core/Link\";import Paper from\"@material-ui/core/Paper\";import Box from\"@material-ui/core/Box\";import Grid from\"@material-ui/core/Grid\";import LockOutlinedIcon from\"@material-ui/icons/LockOutlined\";import Typography from\"@material-ui/core/Typography\";import{makeStyles}from\"@material-ui/core/styles\";import{useState}from\"react\";import{Container,TextField}from\"@material-ui/core\";// import \"./otherDetails/otherDetails.modules.css\";\nimport{toast}from\"react-toastify\";import\"react-toastify/dist/ReactToastify.css\";// import LoadingScreen from '../LoadingScreen/LoadingScreen';\n// import StudentSignup from './StudentSignup';\n// import StudentSigin from './../Signin/StudentSignin';\ntoast.configure();function Copyright(){return/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",color:\"textSecondary\",align:\"center\",children:[\"Copyright © \",/*#__PURE__*/_jsx(Link,{color:\"inherit\",href:\"https://material-ui.com/\",children:\"Library\"}),\" \",new Date().getFullYear(),\".\"]});}var useStyles=makeStyles(function(theme){return{root:{height:\"100vh\"},image:{backgroundImage:\"url(/images/img.jpg)\",backgroundRepeat:\"no-repeat\",backgroundColor:theme.palette.type===\"light\"?theme.palette.grey[50]:theme.palette.grey[900],backgroundSize:\"cover\",backgroundPosition:\"center\"},paper:{margin:theme.spacing(1,4),display:\"flex\",flexDirection:\"column\",alignItems:\"center\"},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:\"100%\",// Fix IE 11 issue.\nmarginTop:theme.spacing(5)},submit:{margin:theme.spacing(1,0,2)},container:{display:\"flex\",flexWrap:\"wrap\"},input:{marginLeft:theme.spacing(1),marginRight:theme.spacing(1),width:200}};});export default function StudentSigup(){var classes=useStyles();var history=useHistory();React.useEffect(function(){try{var userinfo=localStorage.getItem('userinfo');console.log(userinfo);if(userinfo){localStorage.removeItem('userinfo');// Redirect to='/';\n}}catch(err){console.log(err);toast.error(err);toast.error('Please sign in first',{position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});history.push('/signup');}},[]);var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),firstName=_useState2[0],setFirstName=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),lastName=_useState4[0],setLastName=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),email=_useState6[0],setEmail=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),confirmPassword=_useState10[0],setConfirmPassword=_useState10[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),contactNo=_useState12[0],setContactNo=_useState12[1];function sleep(time){return new Promise(function(resolve){return setTimeout(resolve,time);});}var submitHandler=function submitHandler(e){e.preventDefault();if(contactNo===\"\"||email===\"\"||password===\"\"){toast.error(\"Please fill all fields !\",{position:toast.POSITION.TOP_CENTER});}else{if(contactNo.length!==10){toast.error(\"Please enter correct contact number !\",{position:toast.POSITION.TOP_CENTER});}else{if(password.length<=6){toast.error(\"Password Must Be Greater than 6 length\",{position:toast.POSITION.TOP_CENTER});}else{if(password.length>6&&password===confirmPassword){// setLoading(true);\nfetch(\"http://localhost:3001/api/student/signup\",{method:\"post\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({firstName:firstName,lastName:lastName,email:email,password:password,contactNo:contactNo})}).then(function(res){return res.json();}).then(function(result){// setLoading(false);\n// console.log(result);\nif(result.message===\"Success\"){localStorage.setItem('userinfo',JSON.stringify(result));toast.success(\"Sweet !\",{position:toast.POSITION.TOP_CENTER,autoClose:1500});sleep(2000).then(function(){history.push(\"/search\");});}else{toast.error(\"\".concat(result.message),{position:toast.POSITION.TOP_CENTER,autoClose:2000});sleep(2300).then(function(){window.location.reload(false);history.push(\"/signup\");});}});}}}}};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Grid,{container:true,component:\"main\",className:classes.root,children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsx(Grid,{item:true,xs:false,sm:4,md:7,className:classes.image}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:8,md:5,component:Paper,elevation:6,square:true,children:/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Student Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,onSubmit:submitHandler,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{name:\"firstName\",variant:\"outlined\",required:true,fullWidth:true,id:\"firstName\",label:\"First Name\",autoFocus:true,onChange:function onChange(e){return setFirstName(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"lastName\",label:\"Last Name\",name:\"lastName\",onChange:function onChange(e){return setLastName(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",onChange:function onChange(e){return setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,name:\"password\",label:\"Password\",type:\"password\",id:\"password\",onChange:function onChange(e){return setPassword(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,name:\"confirmPassword\",label:\"Confirm Password\",id:\"confirmPassword\",type:\"password\",onChange:function onChange(e){return setConfirmPassword(e.target.value);}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(TextField,{variant:\"outlined\",required:true,fullWidth:true,name:\"contactnumber\",label:\"Contact Number\",id:\"contactnumber\",type:\"string\",onChange:function onChange(e){return setContactNo(e.target.value);}})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,children:\"SIGN UP\"}),/*#__PURE__*/_jsx(Box,{mt:3}),/*#__PURE__*/_jsxs(Grid,{container:true,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:true}),/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/\",variant:\"body2\",children:\"Already have an account? Sign In\"})})]}),/*#__PURE__*/_jsx(Box,{mt:5,children:/*#__PURE__*/_jsx(Copyright,{})})]})]})})]})})});}","map":{"version":3,"sources":["D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/src/components/Screens/SignUp/Register.js"],"names":["React","useHistory","Avatar","Button","CssBaseline","Link","Paper","Box","Grid","LockOutlinedIcon","Typography","makeStyles","useState","Container","TextField","toast","configure","Copyright","Date","getFullYear","useStyles","theme","root","height","image","backgroundImage","backgroundRepeat","backgroundColor","palette","type","grey","backgroundSize","backgroundPosition","paper","margin","spacing","display","flexDirection","alignItems","avatar","secondary","main","form","width","marginTop","submit","container","flexWrap","input","marginLeft","marginRight","StudentSigup","classes","history","useEffect","userinfo","localStorage","getItem","console","log","removeItem","err","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","push","firstName","setFirstName","lastName","setLastName","email","setEmail","password","setPassword","confirmPassword","setConfirmPassword","contactNo","setContactNo","sleep","time","Promise","resolve","setTimeout","submitHandler","e","preventDefault","POSITION","TOP_CENTER","length","fetch","method","headers","body","JSON","stringify","then","res","json","result","message","setItem","success","window","location","reload","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useHistory } from \"react-router-dom\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Button from \"@material-ui/core/Button\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Link from \"@material-ui/core/Link\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Box from \"@material-ui/core/Box\";\nimport Grid from \"@material-ui/core/Grid\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useState } from \"react\";\nimport { Container, TextField } from \"@material-ui/core\";\n// import \"./otherDetails/otherDetails.modules.css\";\nimport { toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\n// import LoadingScreen from '../LoadingScreen/LoadingScreen';\n// import StudentSignup from './StudentSignup';\n// import StudentSigin from './../Signin/StudentSignin';\n\ntoast.configure();\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {\"Copyright © \"}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Library\n      </Link>{\" \"}\n      {new Date().getFullYear()}\n      {\".\"}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    height: \"100vh\",\n  },\n  image: {\n    backgroundImage: \"url(/images/img.jpg)\",\n    backgroundRepeat: \"no-repeat\",\n    backgroundColor:\n      theme.palette.type === \"light\"\n        ? theme.palette.grey[50]\n        : theme.palette.grey[900],\n    backgroundSize: \"cover\",\n    backgroundPosition: \"center\",\n  },\n  paper: {\n    margin: theme.spacing(1, 4),\n    display: \"flex\",\n    flexDirection: \"column\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: \"100%\", // Fix IE 11 issue.\n    marginTop: theme.spacing(5),\n  },\n  submit: {\n    margin: theme.spacing(1, 0, 2),\n  },\n  container: {\n    display: \"flex\",\n    flexWrap: \"wrap\",\n  },\n  input: {\n    marginLeft: theme.spacing(1),\n    marginRight: theme.spacing(1),\n    width: 200,\n  },\n}));\n\nexport default function StudentSigup() {\n  const classes = useStyles();\n  const history = useHistory();\n\n  React.useEffect(() => {\n    try{\n      const userinfo=localStorage.getItem('userinfo');\n\n      console.log(userinfo);\n\n      if(userinfo)\n      {\n        localStorage.removeItem('userinfo');\n        \n        // Redirect to='/';\n      }\n      \n\n      \n  }catch(err){\n      console.log(err);\n      toast.error(err);\n      toast.error(\n          'Please sign in first',\n          {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n          }\n      );\n      history.push('/signup');\n  }\n    \n  }, []);\n\n\n  const [firstName, setFirstName] = useState(\"\");\n  const [lastName, setLastName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\n  const [contactNo, setContactNo] = useState(\"\");\n\n  function sleep(time) {\n    return new Promise((resolve) => setTimeout(resolve, time));\n  }\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (contactNo === \"\" || email === \"\" || password === \"\") {\n      toast.error(\"Please fill all fields !\", {\n        position: toast.POSITION.TOP_CENTER,\n      });\n    } else {\n      if (contactNo.length !== 10) {\n        toast.error(\"Please enter correct contact number !\", {\n          position: toast.POSITION.TOP_CENTER,\n        });\n      } else {\n        if (password.length <= 6) {\n          toast.error(\"Password Must Be Greater than 6 length\", {\n            position: toast.POSITION.TOP_CENTER,\n          });\n        } else {\n          if (password.length > 6 && password === confirmPassword) {\n            // setLoading(true);\n            fetch(\"http://localhost:3001/api/student/signup\", {\n              method: \"post\",\n              headers: {\n                \"Content-Type\": \"application/json\",\n              },\n              body: JSON.stringify({\n                firstName: firstName,\n                lastName: lastName,\n                email: email,\n                password: password,\n                contactNo: contactNo,\n              }),\n            })\n              .then((res) => res.json())\n              .then((result) => {\n                // setLoading(false);\n                // console.log(result);\n                if (result.message === \"Success\") {\n                  localStorage.setItem('userinfo',JSON.stringify(result));\n                  toast.success(\"Sweet !\", {\n                    position: toast.POSITION.TOP_CENTER,\n                    autoClose: 1500,\n                  });\n                 \n                  sleep(2000).then(() => {\n                    history.push(\"/search\");\n                  });\n                } else {\n                  toast.error(`${result.message}`, {\n                    position: toast.POSITION.TOP_CENTER,\n                    autoClose: 2000,\n                  });\n                  sleep(2300).then(() => {\n                    window.location.reload(false);\n                    history.push(\"/signup\");\n                  });\n                }\n              });\n          }\n        }\n      }\n    }\n  };\n\n  return (\n    <div>\n      <div>\n        {\n          <Grid container component=\"main\" className={classes.root}>\n            <CssBaseline />\n            <Grid item xs={false} sm={4} md={7} className={classes.image} />\n            <Grid\n              item\n              xs={12}\n              sm={8}\n              md={5}\n              component={Paper}\n              elevation={6}\n              square\n            >\n              <div className={classes.paper}>\n                <Avatar className={classes.avatar}>\n                  <LockOutlinedIcon />\n                </Avatar>\n                <Typography component=\"h1\" variant=\"h5\">\n                  Student Sign Up\n                </Typography>\n                <form\n                  className={classes.form}\n                  noValidate\n                  onSubmit={submitHandler}\n                >\n                  <Grid container spacing={2}>\n                    <Grid item xs={12} sm={6}>\n                      <TextField\n                        name=\"firstName\"\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"firstName\"\n                        label=\"First Name\"\n                        autoFocus\n                        onChange={(e) => setFirstName(e.target.value)}\n                      />\n                    </Grid>\n                    <Grid item xs={12} sm={6}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"lastName\"\n                        label=\"Last Name\"\n                        name=\"lastName\"\n                        onChange={(e) => setLastName(e.target.value)}\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        name=\"email\"\n                        onChange={(e) => setEmail(e.target.value)}\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"password\"\n                        label=\"Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        onChange={(e) => setPassword(e.target.value)}\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"confirmPassword\"\n                        label=\"Confirm Password\"\n                        id=\"confirmPassword\"\n                        type=\"password\"\n                        onChange={(e) => setConfirmPassword(e.target.value)}\n                      />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"contactnumber\"\n                        label=\"Contact Number\"\n                        id=\"contactnumber\"\n                        type=\"string\"\n                        onChange={(e) => setContactNo(e.target.value)}\n                      />\n                    </Grid>\n                  </Grid>\n\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    SIGN UP\n                  </Button>\n                  <Box mt={3} />\n                  <Grid container>\n                    <Grid item xs>\n                      {/* <Link href=\"#\" variant=\"body2\">\n                        Forgot password?\n                      </Link> */}\n                    </Grid>\n                    <Grid item>\n                      <Link href=\"/\" variant=\"body2\">\n                        {\"Already have an account? Sign In\"}\n                      </Link>\n                    </Grid>\n                  </Grid>\n                  <Box mt={5}>\n                    <Copyright />\n                  </Box>\n                </form>\n              </div>\n            </Grid>\n          </Grid>\n        }\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}