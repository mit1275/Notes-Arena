{"ast":null,"code":"import _objectSpread from\"D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _slicedToArray from\"D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useCallback}from'react';import Axios from'axios';import Card from'@material-ui/core/Card';import Link from'@material-ui/core/Link';import\"./Amit.css\";import{createBrowserHistory}from'history';import{useHistory}from'react-router-dom';import{FaWindowClose}from\"react-icons/fa\";// import { useHistory } from 'react-router-dom';\nimport{makeStyles}from'@material-ui/core/styles';import{toast}from'react-toastify';import CardActionArea from'@material-ui/core/CardActionArea';import{GridList}from'@material-ui/core';import CardActions from'@material-ui/core/CardActions';import CardContent from'@material-ui/core/CardContent';import CardMedia from'@material-ui/core/CardMedia';import Button from'@material-ui/core/Button';import Typography from'@material-ui/core/Typography';import MIT from'../../images/download.jfif';import imag from'../../images/images.png';import{Grid}from'@material-ui/core';import{Container,Row,Col}from'react-grid-system';import Header from'../Header/Header';toast.configure();var jwt=require('jsonwebtoken');var useStyles=makeStyles(function(theme){return{root:{flexGrow:1.6,padding:theme.spacing(2),maxWidth:700,marginBottom:0,marginTop:0.00001,textAlign:'center',boxShadow:\"5px 10px #888888\",transition:\"0.3s\",borderRadius:\"22px\",perspective:\"1000px\",// opacity: \"0.9\",\ncursor:\"pointer\",fontfamily:\"Arial, Helvetica, sans-serif\"},media:{height:240,width:305,textAlign:\"center\",justifyContent:\"center\",fontfamily:\"Arial, Helvetica, sans-serif\"}};});function MediaCard(props){var classes=useStyles();var _React$useState=React.useState('kl'),_React$useState2=_slicedToArray(_React$useState,2),name=_React$useState2[0],setname=_React$useState2[1];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Link,{href:'http://localhost:3001/files/'+props.filename,children:/*#__PURE__*/_jsx(Card,{className:classes.root,children:/*#__PURE__*/_jsxs(\"div\",{className:\"column\",children:[/*#__PURE__*/_jsxs(CardActionArea,{children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:imag,title:props.filename,fontfamily:\"Arial, Helvetica, sans-serif\"}),/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"h5\",component:\"h2\",children:[props.filename,/*#__PURE__*/_jsx(\"p\",{})]}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",fontfamily:\"Arial, Helvetica, sans-serif\",color:\"textSecondary\",component:\"p\"})]})]}),/*#__PURE__*/_jsx(CardActions,{})]})})})});}export default function HomePage(){if(document.referrer!==document.location.href){setTimeout(function(){document.location.reload();},3000);}var classes=useStyles();var history=useHistory();var _React$useState3=React.useState([]),_React$useState4=_slicedToArray(_React$useState3,2),Files=_React$useState4[0],setFiles=_React$useState4[1];var _React$useState5=React.useState(\"\"),_React$useState6=_slicedToArray(_React$useState5,2),search=_React$useState6[0],setsearch=_React$useState6[1];var _React$useState7=React.useState(\"\"),_React$useState8=_slicedToArray(_React$useState7,2),id=_React$useState8[0],setId=_React$useState8[1];var address='http://localhost:3001/allfiles';React.useEffect(function(){// <Header/>\ntry{var userinfo=localStorage.getItem('userinfo');console.log(userinfo);if(userinfo){Axios.post(address).then(function(result){console.log(result);setFiles(result.data.files);history.push('/search');});}else{toast.error('Please sign in first',{position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});history.push('/');}}catch(err){console.log(err);toast.error(err);toast.error('Please sign in first',{position:\"top-right\",autoClose:2000,hideProgressBar:false,closeOnClick:true,pauseOnHover:true,draggable:true,progress:undefined});history.push('/');}},[]);return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#12c2e9'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"Appy\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",class:\"textbox\",placeholder:\"Search\",onChange:function onChange(event){setsearch(event.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{className:\"home\",children:/*#__PURE__*/_jsx(Container,{className:\"root-container\",children:/*#__PURE__*/_jsx(Grid,{className:\"sample-grid\",container:true,spacing:1,children:Files.filter(function(value){if(search===\"\"){return value;}else if(value.filename.toLowerCase().includes(search.toLowerCase())){return value;}}).map(function(item,index){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Grid,{className:\"feedback-requesters-grid\",container:true,item:true,xs:4,children:/*#__PURE__*/_jsx(\"div\",{style:{marginRight:'10px',width:'21rem',marginTop:'20px',justifyContent:\"center\",textAlign:\"center\"},children:/*#__PURE__*/_jsx(MediaCard,_objectSpread({},item))})})});})})})})]});}","map":{"version":3,"sources":["D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/src/components/Screens/op.js"],"names":["React","useCallback","Axios","Card","Link","createBrowserHistory","useHistory","FaWindowClose","makeStyles","toast","CardActionArea","GridList","CardActions","CardContent","CardMedia","Button","Typography","MIT","imag","Grid","Container","Row","Col","Header","configure","jwt","require","useStyles","theme","root","flexGrow","padding","spacing","maxWidth","marginBottom","marginTop","textAlign","boxShadow","transition","borderRadius","perspective","cursor","fontfamily","media","height","width","justifyContent","MediaCard","props","classes","useState","name","setname","filename","HomePage","document","referrer","location","href","setTimeout","reload","history","Files","setFiles","search","setsearch","id","setId","address","useEffect","userinfo","localStorage","getItem","console","log","post","then","result","data","files","push","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","err","background","event","target","value","filter","toLowerCase","includes","map","item","index","marginRight"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\r\nimport Axios from 'axios';\r\nimport Card from '@material-ui/core/Card';\r\nimport Link from '@material-ui/core/Link';\r\nimport \"./Amit.css\";\r\nimport { createBrowserHistory } from 'history';\r\nimport {useHistory} from 'react-router-dom';\r\nimport { FaWindowClose } from \"react-icons/fa\";\r\n// import { useHistory } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { toast } from 'react-toastify';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport { GridList } from '@material-ui/core';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MIT from '../../images/download.jfif';\r\nimport imag from '../../images/images.png';\r\nimport { Grid } from '@material-ui/core';\r\n\r\n\r\nimport { Container, Row, Col } from 'react-grid-system';\r\nimport Header from '../Header/Header';\r\ntoast.configure();\r\n\r\n\r\nconst jwt = require('jsonwebtoken');\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1.6,\r\n    padding: theme.spacing(2),\r\n    maxWidth: 700,\r\n    marginBottom:0,\r\n    marginTop:0.00001,\r\n    textAlign:'center',\r\n    boxShadow:\"5px 10px #888888\",\r\n    transition:\"0.3s\",\r\n    borderRadius:\"22px\",\r\n    perspective: \"1000px\",\r\n    // opacity: \"0.9\",\r\n    cursor: \"pointer\",\r\n    fontfamily: \"Arial, Helvetica, sans-serif\"\r\n    \r\n  },\r\n  media: {\r\n    height: 240,\r\n    width:305,\r\n    textAlign:\"center\",\r\n    justifyContent:\"center\",\r\n    fontfamily: \"Arial, Helvetica, sans-serif\"\r\n  },\r\n  \r\n}));\r\n\r\nfunction MediaCard(props) {\r\n  const classes = useStyles();\r\n  const [name, setname] = React.useState('kl');\r\n  \r\n  return (\r\n    <>\r\n      {\r\n        <Link href={'http://localhost:3001/files/' + props.filename}>\r\n          <Card className={classes.root}>\r\n             <div className=\"column\">\r\n            <CardActionArea>\r\n              <CardMedia\r\n                className={classes.media}\r\n                image={imag}\r\n                title={props.filename}\r\n                fontfamily= \"Arial, Helvetica, sans-serif\"\r\n                \r\n              />\r\n              <CardContent>\r\n                <Typography gutterBottom variant='h5' component='h2'>\r\n                \r\n                  {/* <h6>File-</h6> */}\r\n                  {props.filename}\r\n                  <p></p>\r\n                </Typography>\r\n                <Typography\r\n                  variant='body2'\r\n                  fontfamily=\"Arial, Helvetica, sans-serif\"\r\n                  color='textSecondary'\r\n                  component='p'\r\n                ></Typography>\r\n              </CardContent>\r\n            </CardActionArea>\r\n            <CardActions></CardActions>\r\n            </div>\r\n          </Card>\r\n        </Link>\r\n      }\r\n    </>\r\n  );\r\n}\r\n\r\nexport default function HomePage() {\r\n\r\n  if (document.referrer !== document.location.href) {\r\n    setTimeout(function() {\r\n        document.location.reload()\r\n  }, 3000);\r\n}\r\n  const classes = useStyles();\r\n\r\n  let history = useHistory();\r\n  const [Files, setFiles] = React.useState([]);\r\n  const [search,setsearch]=React.useState(\"\");\r\n  const [id, setId] = React.useState(\"\");\r\n  const address = 'http://localhost:3001/allfiles';\r\n  React.useEffect(() => {\r\n    // <Header/>\r\n    try{\r\n      const userinfo=localStorage.getItem('userinfo');\r\n\r\n      console.log(userinfo);\r\n\r\n      if(userinfo)\r\n      {\r\n        Axios.post(address).then((result) => {\r\n          console.log(result);\r\n          setFiles(result.data.files);\r\n\r\n          history.push('/search');\r\n        });\r\n      }\r\n      else\r\n      {\r\n        toast.error(\r\n          'Please sign in first',\r\n          {\r\n          position: \"top-right\",\r\n          autoClose: 2000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined\r\n          }\r\n      );\r\n      history.push('/');\r\n      }\r\n\r\n      \r\n  }catch(err){\r\n      console.log(err);\r\n      toast.error(err);\r\n      toast.error(\r\n          'Please sign in first',\r\n          {\r\n          position: \"top-right\",\r\n          autoClose: 2000,\r\n          hideProgressBar: false,\r\n          closeOnClick: true,\r\n          pauseOnHover: true,\r\n          draggable: true,\r\n          progress: undefined\r\n          }\r\n      );\r\n      history.push('/');\r\n  }\r\n    \r\n  }, []);\r\n\r\n  return (\r\n    \r\n    <div style={{background:'#12c2e9'}} >\r\n       \r\n      \r\n       <div className=\"Appy\">\r\n       <input type=\"text\" class=\"textbox\"  placeholder=\"Search\"   onChange={event=>{setsearch(event.target.value)}} ></input >\r\n       </div>\r\n        <div className=\"home\" >\r\n      <Container className=\"root-container\">\r\n        <Grid className=\"sample-grid\" container spacing={1}>\r\n        \r\n          {Files.filter((value)=>{\r\n          if(search===\"\")\r\n          {\r\n            return value;\r\n          }\r\n          else if(value.filename.toLowerCase().includes(search.toLowerCase()))\r\n          {\r\n               return value;\r\n          }\r\n        }).map((item,index) => {\r\n            return (\r\n              <>\r\n             \r\n             <Grid className=\"feedback-requesters-grid\" container item xs={4}>\r\n             <div style={{ marginRight: '10px', width: '21rem',marginTop:'20px',justifyContent:\"center\",textAlign:\"center\"}}>\r\n              <MediaCard {...item} />\r\n              </div>\r\n              </Grid>\r\n              </>\r\n            );\r\n          })}\r\n        \r\n\r\n       \r\n      </Grid>\r\n      </Container>\r\n    </div>\r\n    </div>\r\n  );\r\n  \r\n}\r\n"]},"metadata":{},"sourceType":"module"}