{"ast":null,"code":"import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _objectSpread from\"D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState}from\"react\";import clsx from\"clsx\";import{fade,makeStyles,useTheme}from\"@material-ui/core/styles\";import Drawer from\"@material-ui/core/Drawer\";import Button from\"@material-ui/core/Button\";import\"./header.css\";import Axios from\"axios\";import Link from'@material-ui/core/Link';import{useHistory}from\"react-router-dom\";import Feedback from'./../Screens/SiteFeedback/Feedback';var jwt=require(\"jsonwebtoken\");var env=require(\"dotenv\");env.config();var drawerWidth=240;var useStyles=makeStyles(function(theme){return{root:{flexGrow:1},appBar:{transition:theme.transitions.create([\"margin\",\"width\"],{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen})},menuButton:{marginRight:theme.spacing(2)},hide:{display:\"none\"},drawer:{width:drawerWidth,flexShrink:0},drawerPaper:{width:drawerWidth},drawerHeader:_objectSpread(_objectSpread({display:\"flex\",alignItems:\"center\",padding:theme.spacing(0,1)},theme.mixins.toolbar),{},{justifyContent:\"flex-end\"}),content:{flexGrow:1,padding:theme.spacing(3),transition:theme.transitions.create(\"margin\",{easing:theme.transitions.easing.sharp,duration:theme.transitions.duration.leavingScreen}),marginLeft:-drawerWidth},contentShift:{transition:theme.transitions.create(\"margin\",{easing:theme.transitions.easing.easeOut,duration:theme.transitions.duration.enteringScreen}),marginLeft:0},title:{flexGrow:1}};});function refreshPage(){window.location.reload(true);}export default function Header(){if(document.referrer!==document.location.href){setTimeout(function(){document.location.reload();},3000);}var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),userId=_useState2[0],setUserId=_useState2[1];React.useEffect(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var userinfo;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:try{// his\nuserinfo=localStorage.getItem('userinfo');console.log(userinfo);if(userinfo){console.log(\"This is \"+userinfo);// window.location.reload(false);\nsetUserId(userinfo._id);}else{console.log(\"User is not logged in\");}//\n}catch(err){console.log(err);console.log(\"user in catch block\");}case 1:case\"end\":return _context.stop();}}},_callee);})),[]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"nav\",children:/*#__PURE__*/_jsxs(\"ul\",{children:[userId===\"\"?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{href:\"/\",className:\"nav-link\",onClick:refreshPage,children:/*#__PURE__*/_jsx(\"h2\",{style:{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'},children:\"Home\"})})}):\"\",userId===\"\"?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{href:\"/signup\",className:\"nav-link\",onClick:refreshPage,children:/*#__PURE__*/_jsx(\"h2\",{style:{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'},children:\"Register\"})})}):\"\",userId!==\"\"?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{href:\"/search\",className:\"nav-link\",onClick:refreshPage,children:/*#__PURE__*/_jsx(\"h2\",{style:{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'},children:\"Files\"})})}):\"\",/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{href:\"/feedback\",className:\"nav-link\",onClick:refreshPage,children:/*#__PURE__*/_jsx(\"h2\",{style:{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'},children:\"Give Your Feedback\"})})}),userId!==\"\"?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{href:\"/upload\",className:\"nav-link\",onClick:refreshPage,children:/*#__PURE__*/_jsx(\"h2\",{style:{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'},children:\"Upload Your Notes\"})})}):\"\",userId!==\"\"?/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(Button,{href:\"/logout\",className:\"nav-link\",onClick:refreshPage,children:/*#__PURE__*/_jsx(\"h2\",{style:{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'},children:\"Log Out\"})})}):\"\"]})})});};","map":{"version":3,"sources":["D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Backend/Frontend/src/components/Header/Header.js"],"names":["React","useState","clsx","fade","makeStyles","useTheme","Drawer","Button","Axios","Link","useHistory","Feedback","jwt","require","env","config","drawerWidth","useStyles","theme","root","flexGrow","appBar","transition","transitions","create","easing","sharp","duration","leavingScreen","menuButton","marginRight","spacing","hide","display","drawer","width","flexShrink","drawerPaper","drawerHeader","alignItems","padding","mixins","toolbar","justifyContent","content","marginLeft","contentShift","easeOut","enteringScreen","title","refreshPage","window","location","reload","Header","document","referrer","href","setTimeout","userId","setUserId","useEffect","userinfo","localStorage","getItem","console","log","_id","err","color","fontFamily","fontWeight","fontStyle"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport clsx from \"clsx\";\r\nimport { fade, makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport \"./header.css\";\r\nimport Axios from \"axios\";\r\nimport Link from '@material-ui/core/Link';\r\nimport {useHistory } from \"react-router-dom\";\r\nimport Feedback from './../Screens/SiteFeedback/Feedback';\r\n\r\nconst jwt = require(\"jsonwebtoken\");\r\nconst env = require(\"dotenv\");\r\nenv.config();\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flexGrow: 1,\r\n  },\r\n  appBar: {\r\n    transition: theme.transitions.create([\"margin\", \"width\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n  hide: {\r\n    display: \"none\",\r\n  },\r\n  drawer: {\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  drawerHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(0, 1),\r\n    // necessary for content to be below app bar\r\n    ...theme.mixins.toolbar,\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    marginLeft: -drawerWidth,\r\n  },\r\n  contentShift: {\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginLeft: 0,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n}));\r\nfunction refreshPage() {\r\n  window.location.reload(true);\r\n}\r\n\r\n\r\nexport default function Header() {\r\n\r\n \r\n  if (document.referrer !== document.location.href) {\r\n    setTimeout(function() {\r\n        document.location.reload()\r\n  }, 3000);\r\n}\r\n  const [userId, setUserId] = useState(\"\");\r\n \r\n  \r\n  React.useEffect(async () => {\r\n    try{\r\n        // his\r\n\r\n\r\n      const userinfo=localStorage.getItem('userinfo');\r\n\r\n      console.log(userinfo);\r\n\r\n      if(userinfo)\r\n      {\r\n        console.log(\"This is \"+userinfo);\r\n        // window.location.reload(false);\r\n        setUserId(userinfo._id);\r\n      }\r\n      else\r\n      {\r\n        console.log(\"User is not logged in\");\r\n      }\r\n      //\r\n\r\n      \r\n  }catch(err){\r\n      console.log(err);\r\n      console.log(\"user in catch block\");\r\n  }\r\n    \r\n  }, []);\r\n    return (\r\n     \r\n <>\r\n \r\n    <div className=\"nav\">\r\n  <ul>\r\n    \r\n    {userId===\"\"?(\r\n    <li>\r\n      <Button href=\"/\" className=\"nav-link\" onClick={refreshPage}>\r\n        <h2 style={{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'}}>Home</h2>\r\n      </Button>\r\n    </li>\r\n    ):\"\"}\r\n    {userId===\"\"?(\r\n    <li>\r\n      <Button href=\"/signup\"  className=\"nav-link\" onClick={refreshPage}>\r\n      {/* window.location.reload(false); */}\r\n      <h2 style={{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'}}>Register</h2>\r\n      </Button>\r\n    </li>\r\n    ):\"\"}\r\n    {userId!==\"\"?(\r\n    <li>\r\n      <Button href=\"/search\" className=\"nav-link\" onClick={refreshPage}>\r\n      <h2 style={{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'}}>Files</h2>\r\n      </Button>\r\n    </li>\r\n    ):\"\"}\r\n    <li>\r\n      <Button href=\"/feedback\" className=\"nav-link\" onClick={refreshPage}>\r\n      <h2 style={{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'}}>Give Your Feedback</h2>\r\n      </Button>\r\n    </li>\r\n    {userId!==\"\"?(\r\n    <li>\r\n      <Button href=\"/upload\" className=\"nav-link\" onClick={refreshPage}>\r\n      <h2 style={{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'}}>Upload Your Notes</h2>\r\n      </Button>\r\n    </li>\r\n    ):\"\"}\r\n    {userId!==\"\"?(\r\n    <li>\r\n      <Button href=\"/logout\" className=\"nav-link\" onClick={refreshPage}>\r\n      <h2 style={{color:'black',fontFamily:\"'Mukta', sans-serif\",fontWeight:\"bold\",fontStyle:'italic'}}>Log Out</h2>\r\n      </Button>\r\n    </li>\r\n    ):\"\"}\r\n    \r\n  </ul>\r\n</div>\r\n    </>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}