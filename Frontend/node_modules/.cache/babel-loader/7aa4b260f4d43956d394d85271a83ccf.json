{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"D:\\\\5thsemprojects\\\\Nodejs_Mongodb_Express_Multer\\\\Loco-Cart-Frontend-beef6b1281e0f97f6bd874476368f4fd52163902\\\\src\\\\components\\\\Screens\\\\PlaceOrder\\\\PlaceOrder.js\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport './PlaceOrder.css';\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Button from '@material-ui/core/Button';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\n\nconst jwt = require('jsonwebtoken');\n\ntoast.configure();\n\nconst PlaceOrder = () => {\n  _s();\n\n  const [status, setStatus] = useState(0);\n  const [addressLine1, setAddressLine1] = useState(\"\");\n  const [addressLine2, setAddressLine2] = useState(\"\");\n  const [city, setCity] = useState(\"\");\n  const [pinCode, setPinCode] = useState(\"\");\n  const [id, setId] = useState(\"\");\n  const [itemDetails, setItemDetails] = useState([]);\n  const [sellerDetails, setSellerDetails] = useState({});\n  const [minPrice, setMinPrice] = useState(undefined);\n  const [otp, setOtp] = useState(\"\");\n  const [otpIp, setOtpIp] = useState(\"\");\n  const history = useHistory();\n  useEffect(() => {\n    try {\n      console.log(localStorage.getItem(\"CustomerJwt\"));\n      const decodedToken = jwt.verify(localStorage.getItem(\"CustomerJwt\"), process.env.REACT_APP_JWT_SECRET);\n      setId(decodedToken._id);\n    } catch (err) {\n      console.log(err);\n      toast.error('Please sign in first', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n      history.push('/signin');\n    }\n  }, []);\n\n  const setAddressHandler = () => {\n    if (addressLine1 !== \"\") {\n      if (addressLine2 !== \"\") {\n        if (city !== \"\") {\n          if (pinCode !== \"\") {\n            //ADDRESS INPUTS ARE VALID\n            fetch('http://localhost:3001/api/bid/getinitialbestseller', {\n              method: \"post\",\n              headers: {\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                city: city,\n                id: id\n              })\n            }).then(res => res.json()).then(result => {\n              if (result.message === \"Success\") {\n                console.log(result);\n                setSellerDetails(result.seller);\n                setItemDetails(result.itemDetails);\n                setMinPrice(result.minPrice);\n                setStatus(1);\n              } else if (result.message === \"No seller available\") {\n                toast.error('No seller available for the given set of products....Please try again later', {\n                  position: \"top-right\",\n                  autoClose: 2000,\n                  hideProgressBar: false,\n                  closeOnClick: true,\n                  pauseOnHover: true,\n                  draggable: true,\n                  progress: undefined\n                });\n              } else if (result.message === \"Cart empty\") {\n                toast.error('Your cart is empty', {\n                  position: \"top-right\",\n                  autoClose: 2000,\n                  hideProgressBar: false,\n                  closeOnClick: true,\n                  pauseOnHover: true,\n                  draggable: true,\n                  progress: undefined\n                });\n              } else {\n                toast.error('Some error occured', {\n                  position: \"top-right\",\n                  autoClose: 2000,\n                  hideProgressBar: false,\n                  closeOnClick: true,\n                  pauseOnHover: true,\n                  draggable: true,\n                  progress: undefined\n                });\n              }\n            });\n          } else {\n            toast.error('Please enter pin code', {\n              position: \"top-right\",\n              autoClose: 2000,\n              hideProgressBar: false,\n              closeOnClick: true,\n              pauseOnHover: true,\n              draggable: true,\n              progress: undefined\n            });\n          }\n        } else {\n          toast.error('Please enter city name', {\n            position: \"top-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n          });\n        }\n      } else {\n        toast.error('Please enter address line 2', {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    } else {\n      toast.error('Please enter address line 1', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    }\n  };\n\n  const sendOtpHandler = () => {\n    fetch('http://localhost:3001/api/bid/getotp', {\n      method: \"post\",\n      \"headers\": {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        customerId: id\n      })\n    }).then(res => res.json()).then(result => {\n      console.log(result);\n\n      if (result.message === \"Success\") {\n        setOtp(result.otp);\n        setStatus(2);\n      } else {\n        toast.error('Some error occured', {\n          position: \"top-right\",\n          autoClose: 2000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined\n        });\n      }\n    });\n  };\n\n  const placeOrderHandler = () => {\n    if (otpIp == otp) {\n      var items = [];\n      itemDetails.forEach(it => {\n        items.push({\n          itemId: it.id,\n          quantity: it.quantity\n        });\n      });\n      console.log(items);\n      fetch('http://localhost:3001/api/bid/placeorder', {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          customerId: id,\n          initialSellerId: sellerDetails.sellerId,\n          price: minPrice,\n          itemList: items,\n          addressLine1: addressLine1,\n          addressLine2: addressLine2,\n          city: city\n        })\n      }).then(res => res.json()).then(result => {\n        console.log(result);\n\n        if (result.message === \"Success\") {\n          setStatus(3);\n        } else {\n          toast.error('Some error occured', {\n            position: \"top-right\",\n            autoClose: 2000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined\n          });\n        }\n      });\n    } else {\n      toast.error('Invalid OTP', {\n        position: \"top-right\",\n        autoClose: 2000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"place_order_all_content\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"top_section\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        container: true,\n        children: [/*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          sm: 4,\n          md: 4,\n          lg: 4,\n          children: [status == 0 ? /*#__PURE__*/_jsxDEV(LocationCityIcon, {\n            style: {\n              height: \"50px\",\n              width: \"50px\",\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 285,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(LocationCityIcon, {\n            style: {\n              height: \"50px\",\n              width: \"50px\",\n              color: \"#00cc00\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 21\n          }, this), status == 0 ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            style: {\n              height: \"20px\",\n              width: \"20px\",\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 303,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            style: {\n              height: \"20px\",\n              width: \"20px\",\n              color: \"#00cc00\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          sm: 4,\n          md: 4,\n          lg: 4,\n          children: [status <= 1 ? /*#__PURE__*/_jsxDEV(DescriptionIcon, {\n            style: {\n              height: \"50px\",\n              width: \"50px\",\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(DescriptionIcon, {\n            style: {\n              height: \"50px\",\n              width: \"50px\",\n              color: \"#00cc00\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 338,\n            columnNumber: 21\n          }, this), status <= 1 ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            style: {\n              height: \"20px\",\n              width: \"20px\",\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            style: {\n              height: \"20px\",\n              width: \"20px\",\n              color: \"#00cc00\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 348,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 4,\n          sm: 4,\n          md: 4,\n          lg: 4,\n          children: [status <= 2 ? /*#__PURE__*/_jsxDEV(VerifiedUserIcon, {\n            style: {\n              height: \"50px\",\n              width: \"50px\",\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 359,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(VerifiedUserIcon, {\n            style: {\n              height: \"50px\",\n              width: \"50px\",\n              color: \"#00cc00\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 21\n          }, this), status <= 2 ? /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            style: {\n              height: \"20px\",\n              width: \"20px\",\n              color: \"gray\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 377,\n            columnNumber: 25\n          }, this) : /*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n            style: {\n              height: \"20px\",\n              width: \"20px\",\n              color: \"#00cc00\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 385,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 357,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main_content\",\n      children: [status == 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"step\",\n          children: \"STEP 1 OF 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message\",\n          children: \"Enter you location to proceed further\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 401,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            md: 6,\n            lg: 6,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                variant: \"outlined\",\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  htmlFor: \"outlined-adornment-amount\",\n                  children: \"Address Line 1\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                  id: \"outlined-adornment-amount\",\n                  labelWidth: 110,\n                  value: addressLine1,\n                  onChange: e => {\n                    setAddressLine1(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 405,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 404,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            md: 6,\n            lg: 6,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                variant: \"outlined\",\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  htmlFor: \"outlined-adornment-amount\",\n                  children: \"Address Line 2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 29\n                }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                  id: \"outlined-adornment-amount\",\n                  labelWidth: 110,\n                  value: addressLine2,\n                  onChange: e => {\n                    setAddressLine2(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            md: 6,\n            lg: 6,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                variant: \"outlined\",\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  htmlFor: \"outlined-adornment-amount\",\n                  children: \"City Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                  id: \"outlined-adornment-amount\",\n                  labelWidth: 75,\n                  value: city,\n                  onChange: e => {\n                    setCity(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 430,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 429,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            md: 6,\n            lg: 6,\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                margin: \"10px\"\n              },\n              children: /*#__PURE__*/_jsxDEV(FormControl, {\n                fullWidth: true,\n                variant: \"outlined\",\n                children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n                  htmlFor: \"outlined-adornment-amount\",\n                  children: \"Pin Code\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n                  id: \"outlined-adornment-amount\",\n                  labelWidth: 65,\n                  type: \"number\",\n                  value: pinCode,\n                  onChange: e => {\n                    setPinCode(e.target.value);\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 29\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: \"center\",\n            margin: \"10px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(Button, {\n            variant: \"contained\",\n            color: \"primary\",\n            style: {\n              height: \"40px\",\n              fontSize: \"1rem\"\n            },\n            onClick: () => {\n              setAddressHandler();\n            },\n            children: \"SAVE AND PROCEED\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 399,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 471,\n        columnNumber: 17\n      }, this), status == 1 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"step\",\n          children: \"STEP 2 OF 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"message\",\n          children: \"LIST OF PRODUCTS IN THE CART\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 21\n        }, this), itemDetails.map(item => {\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              children: [/*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                md: 6,\n                lg: 4,\n                children: /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: item.image,\n                  className: \"product_image\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 481,\n                  columnNumber: 37\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                sm: 6,\n                md: 6,\n                lg: 8,\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"product_detail\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"product_detail\",\n                  children: [\"CATEGORY : \", item.category]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 487,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"product_detail\",\n                  children: [\"MINIMUM PRICE WITHOUT BID : \\u20B9\", item.minPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 488,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"product_detail\",\n                  children: [\"QUANTITY : \", item.quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 489,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"product_detail_total_price\",\n                  children: [\"TOTAL PRICE : \\u20B9\", item.totalPrice]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 490,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: \"#538df6\",\n                height: \"0.5px\",\n                width: \"95%\",\n                margin: \"auto\",\n                marginTop: \"5px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 478,\n            columnNumber: 35\n          }, this);\n        }), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"total_price\",\n          children: [\"TOTAL PRICE OF ALL ITEMS : \\u20B9\", minPrice]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"note\",\n          children: \"Note : This is the maximum price that you may pay for your order and it may fall whenever a new seller makes a bid.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 501,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"total_price\",\n          children: \"SELLER WITH LOWEST PRICE BEFORE BIDDING PHASE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 502,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Grid, {\n          container: true,\n          children: [/*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 12,\n            sm: 6,\n            lg: 4,\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              src: sellerDetails.image,\n              className: \"product_image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 505,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Grid, {\n            item: true,\n            xs: 12,\n            sm: 6,\n            md: 6,\n            lg: 8,\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"product_detail\",\n              children: [sellerDetails.firstName, \" \", sellerDetails.lastName]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 510,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product_detail\",\n              children: [\"CITY : \", sellerDetails.city]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product_detail\",\n              children: [\"ADDRESS : \", sellerDetails.address]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 512,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"product_detail\",\n              children: [\"INTEREST : \", sellerDetails.interest]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 513,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          style: {\n            height: \"40px\",\n            fontSize: \"1rem\",\n            margin: \"10px\"\n          },\n          onClick: () => {\n            setStatus(0);\n          },\n          children: \"PREVIOUS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 517,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          style: {\n            height: \"40px\",\n            fontSize: \"1rem\",\n            float: \"right\",\n            margin: \"10px\"\n          },\n          onClick: () => {\n            sendOtpHandler();\n          },\n          children: \"NEXT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 530,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 473,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 17\n      }, this), status == 2 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"step\",\n          children: \"STEP 3 OF 3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 549,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"total_price\",\n          children: \"ENTER THE OTP SENT TO YOUR EMAIL ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            margin: \"10px\",\n            maxWidth: \"768px\"\n          },\n          children: /*#__PURE__*/_jsxDEV(FormControl, {\n            fullWidth: true,\n            variant: \"outlined\",\n            children: [/*#__PURE__*/_jsxDEV(InputLabel, {\n              htmlFor: \"outlined-adornment-amount\",\n              children: \"ENTER OTP\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 553,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(OutlinedInput, {\n              id: \"outlined-adornment-amount\",\n              labelWidth: 85,\n              value: otpIp,\n              onChange: e => {\n                setOtpIp(e.target.value);\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 554,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 551,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          style: {\n            height: \"40px\",\n            fontSize: \"1rem\",\n            margin: \"10px\"\n          },\n          onClick: () => {\n            setStatus(1);\n          },\n          children: \"PREVIOUS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"contained\",\n          color: \"primary\",\n          style: {\n            height: \"40px\",\n            fontSize: \"1rem\",\n            float: \"right\",\n            margin: \"10px\"\n          },\n          onClick: () => {\n            placeOrderHandler();\n          },\n          children: \"SUBMIT\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 575,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 548,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 591,\n        columnNumber: 17\n      }, this), status == 3 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(CheckCircleIcon, {\n          style: {\n            height: \"100px\",\n            width: \"100px\",\n            color: \"#00cc00\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"total_price\",\n          children: \"ORDER PLACED SUCCESSFULLY\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 601,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"product_detail\",\n          children: \"Your order has been successfully placed and addded to the bidding window. Sellers within your city can now see your order in the bidding section and bid for the lowest price\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 602,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 593,\n        columnNumber: 17\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 606,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 397,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 280,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PlaceOrder, \"Qz9ZrjvyZR6meG/fhallDtFt+eE=\", false, function () {\n  return [useHistory];\n});\n\n_c = PlaceOrder;\nexport default PlaceOrder;\n\nvar _c;\n\n$RefreshReg$(_c, \"PlaceOrder\");","map":{"version":3,"sources":["D:/5thsemprojects/Nodejs_Mongodb_Express_Multer/Loco-Cart-Frontend-beef6b1281e0f97f6bd874476368f4fd52163902/src/components/Screens/PlaceOrder/PlaceOrder.js"],"names":["useState","useEffect","useHistory","LocationCityIcon","DescriptionIcon","VerifiedUserIcon","CheckCircleIcon","Grid","InputLabel","FormControl","OutlinedInput","Button","toast","jwt","require","configure","PlaceOrder","status","setStatus","addressLine1","setAddressLine1","addressLine2","setAddressLine2","city","setCity","pinCode","setPinCode","id","setId","itemDetails","setItemDetails","sellerDetails","setSellerDetails","minPrice","setMinPrice","undefined","otp","setOtp","otpIp","setOtpIp","history","console","log","localStorage","getItem","decodedToken","verify","process","env","REACT_APP_JWT_SECRET","_id","err","error","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","push","setAddressHandler","fetch","method","headers","body","JSON","stringify","then","res","json","result","message","seller","sendOtpHandler","customerId","placeOrderHandler","items","forEach","it","itemId","quantity","initialSellerId","sellerId","price","itemList","height","width","color","margin","e","target","value","textAlign","fontSize","map","item","image","name","category","totalPrice","backgroundColor","marginTop","firstName","lastName","address","interest","float","maxWidth"],"mappings":";;;;;AAAA,SAAQA,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,SAAQC,UAAR,QAAyB,kBAAzB;AACA,OAAO,kBAAP;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AACA,OAAOC,eAAP,MAA4B,gCAA5B;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,SAAQC,KAAR,QAAoB,gBAApB;AACA,OAAO,uCAAP;;AACA,MAAMC,GAAG,GAAGC,OAAO,CAAC,cAAD,CAAnB;;AAEAF,KAAK,CAACG,SAAN;;AAEA,MAAMC,UAAU,GAAG,MAAI;AAAA;;AACnB,QAAM,CAACC,MAAD,EAASC,SAAT,IAAsBlB,QAAQ,CAAC,CAAD,CAApC;AACA,QAAM,CAACmB,YAAD,EAAeC,eAAf,IAAkCpB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACqB,YAAD,EAAeC,eAAf,IAAkCtB,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAACuB,IAAD,EAAOC,OAAP,IAAkBxB,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACyB,OAAD,EAAUC,UAAV,IAAwB1B,QAAQ,CAAC,EAAD,CAAtC;AACA,QAAM,CAAC2B,EAAD,EAAKC,KAAL,IAAc5B,QAAQ,CAAC,EAAD,CAA5B;AACA,QAAM,CAAC6B,WAAD,EAAcC,cAAd,IAAgC9B,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAC+B,aAAD,EAAgBC,gBAAhB,IAAoChC,QAAQ,CAAC,EAAD,CAAlD;AACA,QAAM,CAACiC,QAAD,EAAWC,WAAX,IAA0BlC,QAAQ,CAACmC,SAAD,CAAxC;AACA,QAAM,CAACC,GAAD,EAAMC,MAAN,IAAgBrC,QAAQ,CAAC,EAAD,CAA9B;AACA,QAAM,CAACsC,KAAD,EAAQC,QAAR,IAAoBvC,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAMwC,OAAO,GAAGtC,UAAU,EAA1B;AAEAD,EAAAA,SAAS,CAAC,MAAI;AACV,QAAG;AACCwC,MAAAA,OAAO,CAACC,GAAR,CAAYC,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAZ;AACA,YAAMC,YAAY,GAAGhC,GAAG,CAACiC,MAAJ,CAAWH,YAAY,CAACC,OAAb,CAAqB,aAArB,CAAX,EAAgDG,OAAO,CAACC,GAAR,CAAYC,oBAA5D,CAArB;AACArB,MAAAA,KAAK,CAACiB,YAAY,CAACK,GAAd,CAAL;AACH,KAJD,CAIC,OAAMC,GAAN,EAAU;AACPV,MAAAA,OAAO,CAACC,GAAR,CAAYS,GAAZ;AACAvC,MAAAA,KAAK,CAACwC,KAAN,CACI,sBADJ,EAEI;AACAC,QAAAA,QAAQ,EAAE,WADV;AAEAC,QAAAA,SAAS,EAAE,IAFX;AAGAC,QAAAA,eAAe,EAAE,KAHjB;AAIAC,QAAAA,YAAY,EAAE,IAJd;AAKAC,QAAAA,YAAY,EAAE,IALd;AAMAC,QAAAA,SAAS,EAAE,IANX;AAOAC,QAAAA,QAAQ,EAAExB;AAPV,OAFJ;AAYAK,MAAAA,OAAO,CAACoB,IAAR,CAAa,SAAb;AACH;AACJ,GArBQ,EAqBP,EArBO,CAAT;;AAuBA,QAAMC,iBAAiB,GAAG,MAAI;AAC1B,QAAG1C,YAAY,KAAG,EAAlB,EAAqB;AACjB,UAAGE,YAAY,KAAG,EAAlB,EAAqB;AACjB,YAAGE,IAAI,KAAG,EAAV,EAAa;AACT,cAAGE,OAAO,KAAG,EAAb,EAAgB;AACZ;AACAqC,YAAAA,KAAK,CACD,oDADC,EAED;AACIC,cAAAA,MAAM,EAAC,MADX;AAEIC,cAAAA,OAAO,EAAC;AACJ,gCAAe;AADX,eAFZ;AAKIC,cAAAA,IAAI,EAACC,IAAI,CAACC,SAAL,CAAe;AAChB5C,gBAAAA,IAAI,EAAEA,IADU;AAEhBI,gBAAAA,EAAE,EAAEA;AAFY,eAAf;AALT,aAFC,CAAL,CAYEyC,IAZF,CAYOC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAZZ,EAaCF,IAbD,CAaMG,MAAM,IAAE;AACV,kBAAGA,MAAM,CAACC,OAAP,KAAiB,SAApB,EAA8B;AAC1B/B,gBAAAA,OAAO,CAACC,GAAR,CAAY6B,MAAZ;AACAvC,gBAAAA,gBAAgB,CAACuC,MAAM,CAACE,MAAR,CAAhB;AACA3C,gBAAAA,cAAc,CAACyC,MAAM,CAAC1C,WAAR,CAAd;AACAK,gBAAAA,WAAW,CAACqC,MAAM,CAACtC,QAAR,CAAX;AACAf,gBAAAA,SAAS,CAAC,CAAD,CAAT;AACH,eAND,MAMM,IAAGqD,MAAM,CAACC,OAAP,KAAiB,qBAApB,EAA0C;AAC5C5D,gBAAAA,KAAK,CAACwC,KAAN,CACI,6EADJ,EAEI;AACAC,kBAAAA,QAAQ,EAAE,WADV;AAEAC,kBAAAA,SAAS,EAAE,IAFX;AAGAC,kBAAAA,eAAe,EAAE,KAHjB;AAIAC,kBAAAA,YAAY,EAAE,IAJd;AAKAC,kBAAAA,YAAY,EAAE,IALd;AAMAC,kBAAAA,SAAS,EAAE,IANX;AAOAC,kBAAAA,QAAQ,EAAExB;AAPV,iBAFJ;AAYH,eAbK,MAaA,IAAGoC,MAAM,CAACC,OAAP,KAAiB,YAApB,EAAiC;AACnC5D,gBAAAA,KAAK,CAACwC,KAAN,CACI,oBADJ,EAEI;AACAC,kBAAAA,QAAQ,EAAE,WADV;AAEAC,kBAAAA,SAAS,EAAE,IAFX;AAGAC,kBAAAA,eAAe,EAAE,KAHjB;AAIAC,kBAAAA,YAAY,EAAE,IAJd;AAKAC,kBAAAA,YAAY,EAAE,IALd;AAMAC,kBAAAA,SAAS,EAAE,IANX;AAOAC,kBAAAA,QAAQ,EAAExB;AAPV,iBAFJ;AAYH,eAbK,MAaD;AACDvB,gBAAAA,KAAK,CAACwC,KAAN,CACI,oBADJ,EAEI;AACAC,kBAAAA,QAAQ,EAAE,WADV;AAEAC,kBAAAA,SAAS,EAAE,IAFX;AAGAC,kBAAAA,eAAe,EAAE,KAHjB;AAIAC,kBAAAA,YAAY,EAAE,IAJd;AAKAC,kBAAAA,YAAY,EAAE,IALd;AAMAC,kBAAAA,SAAS,EAAE,IANX;AAOAC,kBAAAA,QAAQ,EAAExB;AAPV,iBAFJ;AAYH;AACJ,aA5DD;AA6DH,WA/DD,MA+DK;AACDvB,YAAAA,KAAK,CAACwC,KAAN,CACI,uBADJ,EAEI;AACAC,cAAAA,QAAQ,EAAE,WADV;AAEAC,cAAAA,SAAS,EAAE,IAFX;AAGAC,cAAAA,eAAe,EAAE,KAHjB;AAIAC,cAAAA,YAAY,EAAE,IAJd;AAKAC,cAAAA,YAAY,EAAE,IALd;AAMAC,cAAAA,SAAS,EAAE,IANX;AAOAC,cAAAA,QAAQ,EAAExB;AAPV,aAFJ;AAYH;AACJ,SA9ED,MA8EK;AACDvB,UAAAA,KAAK,CAACwC,KAAN,CACI,wBADJ,EAEI;AACAC,YAAAA,QAAQ,EAAE,WADV;AAEAC,YAAAA,SAAS,EAAE,IAFX;AAGAC,YAAAA,eAAe,EAAE,KAHjB;AAIAC,YAAAA,YAAY,EAAE,IAJd;AAKAC,YAAAA,YAAY,EAAE,IALd;AAMAC,YAAAA,SAAS,EAAE,IANX;AAOAC,YAAAA,QAAQ,EAAExB;AAPV,WAFJ;AAYH;AACJ,OA7FD,MA6FK;AACDvB,QAAAA,KAAK,CAACwC,KAAN,CACI,6BADJ,EAEI;AACAC,UAAAA,QAAQ,EAAE,WADV;AAEAC,UAAAA,SAAS,EAAE,IAFX;AAGAC,UAAAA,eAAe,EAAE,KAHjB;AAIAC,UAAAA,YAAY,EAAE,IAJd;AAKAC,UAAAA,YAAY,EAAE,IALd;AAMAC,UAAAA,SAAS,EAAE,IANX;AAOAC,UAAAA,QAAQ,EAAExB;AAPV,SAFJ;AAYH;AACJ,KA5GD,MA4GK;AACDvB,MAAAA,KAAK,CAACwC,KAAN,CACI,6BADJ,EAEI;AACAC,QAAAA,QAAQ,EAAE,WADV;AAEAC,QAAAA,SAAS,EAAE,IAFX;AAGAC,QAAAA,eAAe,EAAE,KAHjB;AAIAC,QAAAA,YAAY,EAAE,IAJd;AAKAC,QAAAA,YAAY,EAAE,IALd;AAMAC,QAAAA,SAAS,EAAE,IANX;AAOAC,QAAAA,QAAQ,EAAExB;AAPV,OAFJ;AAYH;AACJ,GA3HD;;AA6HA,QAAMuC,cAAc,GAAG,MAAI;AACvBZ,IAAAA,KAAK,CACD,sCADC,EAED;AACIC,MAAAA,MAAM,EAAC,MADX;AAEI,iBAAU;AACN,wBAAe;AADT,OAFd;AAKIE,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBQ,QAAAA,UAAU,EAAEhD;AADK,OAAf;AALV,KAFC,CAAL,CAWEyC,IAXF,CAWOC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAXZ,EAYCF,IAZD,CAYMG,MAAM,IAAE;AACV9B,MAAAA,OAAO,CAACC,GAAR,CAAY6B,MAAZ;;AACA,UAAGA,MAAM,CAACC,OAAP,KAAiB,SAApB,EAA8B;AAC1BnC,QAAAA,MAAM,CAACkC,MAAM,CAACnC,GAAR,CAAN;AACAlB,QAAAA,SAAS,CAAC,CAAD,CAAT;AACH,OAHD,MAGK;AACDN,QAAAA,KAAK,CAACwC,KAAN,CACI,oBADJ,EAEI;AACAC,UAAAA,QAAQ,EAAE,WADV;AAEAC,UAAAA,SAAS,EAAE,IAFX;AAGAC,UAAAA,eAAe,EAAE,KAHjB;AAIAC,UAAAA,YAAY,EAAE,IAJd;AAKAC,UAAAA,YAAY,EAAE,IALd;AAMAC,UAAAA,SAAS,EAAE,IANX;AAOAC,UAAAA,QAAQ,EAAExB;AAPV,SAFJ;AAYH;AACJ,KA/BD;AAgCH,GAjCD;;AAmCA,QAAMyC,iBAAiB,GAAG,MAAI;AAC1B,QAAGtC,KAAK,IAAEF,GAAV,EAAc;AACV,UAAIyC,KAAK,GAAG,EAAZ;AACAhD,MAAAA,WAAW,CAACiD,OAAZ,CAAoBC,EAAE,IAAE;AACpBF,QAAAA,KAAK,CAACjB,IAAN,CAAW;AACPoB,UAAAA,MAAM,EAAED,EAAE,CAACpD,EADJ;AAEPsD,UAAAA,QAAQ,EAAEF,EAAE,CAACE;AAFN,SAAX;AAIH,OALD;AAMAxC,MAAAA,OAAO,CAACC,GAAR,CAAYmC,KAAZ;AACAf,MAAAA,KAAK,CACD,0CADC,EAED;AACIC,QAAAA,MAAM,EAAC,MADX;AAEIC,QAAAA,OAAO,EAAC;AACJ,0BAAe;AADX,SAFZ;AAKIC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBQ,UAAAA,UAAU,EAAEhD,EADK;AAEjBuD,UAAAA,eAAe,EAAEnD,aAAa,CAACoD,QAFd;AAGjBC,UAAAA,KAAK,EAAEnD,QAHU;AAIjBoD,UAAAA,QAAQ,EAAER,KAJO;AAKjB1D,UAAAA,YAAY,EAAEA,YALG;AAMjBE,UAAAA,YAAY,EAAEA,YANG;AAOjBE,UAAAA,IAAI,EAAEA;AAPW,SAAf;AALV,OAFC,CAAL,CAiBE6C,IAjBF,CAiBOC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EAjBZ,EAkBCF,IAlBD,CAkBMG,MAAM,IAAE;AACV9B,QAAAA,OAAO,CAACC,GAAR,CAAY6B,MAAZ;;AACA,YAAGA,MAAM,CAACC,OAAP,KAAiB,SAApB,EAA8B;AAC1BtD,UAAAA,SAAS,CAAC,CAAD,CAAT;AACH,SAFD,MAEK;AACDN,UAAAA,KAAK,CAACwC,KAAN,CACI,oBADJ,EAEI;AACAC,YAAAA,QAAQ,EAAE,WADV;AAEAC,YAAAA,SAAS,EAAE,IAFX;AAGAC,YAAAA,eAAe,EAAE,KAHjB;AAIAC,YAAAA,YAAY,EAAE,IAJd;AAKAC,YAAAA,YAAY,EAAE,IALd;AAMAC,YAAAA,SAAS,EAAE,IANX;AAOAC,YAAAA,QAAQ,EAAExB;AAPV,WAFJ;AAYH;AACJ,OApCD;AAqCH,KA9CD,MA8CK;AACDvB,MAAAA,KAAK,CAACwC,KAAN,CACI,aADJ,EAEI;AACAC,QAAAA,QAAQ,EAAE,WADV;AAEAC,QAAAA,SAAS,EAAE,IAFX;AAGAC,QAAAA,eAAe,EAAE,KAHjB;AAIAC,QAAAA,YAAY,EAAE,IAJd;AAKAC,QAAAA,YAAY,EAAE,IALd;AAMAC,QAAAA,SAAS,EAAE,IANX;AAOAC,QAAAA,QAAQ,EAAExB;AAPV,OAFJ;AAYH;AACJ,GA7DD;;AA+DA,sBACI;AAAK,IAAA,SAAS,EAAC,yBAAf;AAAA,4BACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA,6BACI,QAAC,IAAD;AAAM,QAAA,SAAS,MAAf;AAAA,gCACI,QAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,EAAE,EAAE,CAAf;AAAkB,UAAA,EAAE,EAAE,CAAtB;AAAyB,UAAA,EAAE,EAAE,CAA7B;AAAgC,UAAA,EAAE,EAAE,CAApC;AAAA,qBACKlB,MAAM,IAAE,CAAR,gBACD,QAAC,gBAAD;AACI,YAAA,KAAK,EAAE;AACHqE,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADX;AAAA;AAAA;AAAA;AAAA,kBADC,gBASD,QAAC,gBAAD;AACA,YAAA,KAAK,EAAE;AACHF,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADP;AAAA;AAAA;AAAA;AAAA,kBAVJ,eAkBA;AAAA;AAAA;AAAA;AAAA,kBAlBA,EAmBCvE,MAAM,IAAE,CAAR,gBACG,QAAC,eAAD;AACI,YAAA,KAAK,EAAE;AACHqE,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADX;AAAA;AAAA;AAAA;AAAA,kBADH,gBASG,QAAC,eAAD;AACA,YAAA,KAAK,EAAE;AACHF,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADP;AAAA;AAAA;AAAA;AAAA,kBA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAsCI,QAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,EAAE,EAAE,CAAf;AAAkB,UAAA,EAAE,EAAE,CAAtB;AAAyB,UAAA,EAAE,EAAE,CAA7B;AAAgC,UAAA,EAAE,EAAE,CAApC;AAAA,qBACKvE,MAAM,IAAE,CAAR,gBACD,QAAC,eAAD;AACI,YAAA,KAAK,EAAE;AACHqE,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADX;AAAA;AAAA;AAAA;AAAA,kBADC,gBASD,QAAC,eAAD;AACA,YAAA,KAAK,EAAE;AACHF,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADP;AAAA;AAAA;AAAA;AAAA,kBAVJ,eAkBA;AAAA;AAAA;AAAA;AAAA,kBAlBA,EAmBCvE,MAAM,IAAE,CAAR,gBACG,QAAC,eAAD;AACI,YAAA,KAAK,EAAE;AACHqE,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADX;AAAA;AAAA;AAAA;AAAA,kBADH,gBASG,QAAC,eAAD;AACA,YAAA,KAAK,EAAE;AACHF,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADP;AAAA;AAAA;AAAA;AAAA,kBA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAtCJ,eA2EI,QAAC,IAAD;AAAM,UAAA,IAAI,MAAV;AAAW,UAAA,EAAE,EAAE,CAAf;AAAkB,UAAA,EAAE,EAAE,CAAtB;AAAyB,UAAA,EAAE,EAAE,CAA7B;AAAgC,UAAA,EAAE,EAAE,CAApC;AAAA,qBACKvE,MAAM,IAAE,CAAR,gBACD,QAAC,gBAAD;AACI,YAAA,KAAK,EAAE;AACHqE,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADX;AAAA;AAAA;AAAA;AAAA,kBADC,gBASD,QAAC,gBAAD;AACA,YAAA,KAAK,EAAE;AACHF,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADP;AAAA;AAAA;AAAA;AAAA,kBAVJ,eAkBA;AAAA;AAAA;AAAA;AAAA,kBAlBA,EAmBCvE,MAAM,IAAE,CAAR,gBACG,QAAC,eAAD;AACI,YAAA,KAAK,EAAE;AACHqE,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADX;AAAA;AAAA;AAAA;AAAA,kBADH,gBASG,QAAC,eAAD;AACA,YAAA,KAAK,EAAE;AACHF,cAAAA,MAAM,EAAC,MADJ;AAEHC,cAAAA,KAAK,EAAC,MAFH;AAGHC,cAAAA,KAAK,EAAC;AAHH;AADP;AAAA;AAAA;AAAA;AAAA,kBA5BJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA3EJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,YADJ,eAqHI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA,iBACKvE,MAAM,IAAE,CAAR,gBACD;AAAA,gCACI;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAG,UAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,eAGI,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,EAAf;AAAmB,YAAA,EAAE,EAAE,EAAvB;AAA2B,YAAA,EAAE,EAAE,CAA/B;AAAkC,YAAA,EAAE,EAAE,CAAtC;AAAA,mCACA;AAAK,cAAA,KAAK,EAAE;AAACwE,gBAAAA,MAAM,EAAC;AAAR,eAAZ;AAAA,qCACA,QAAC,WAAD;AAAa,gBAAA,SAAS,MAAtB;AAAuB,gBAAA,OAAO,EAAC,UAA/B;AAAA,wCACI,QAAC,UAAD;AAAY,kBAAA,OAAO,EAAC,2BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,aAAD;AACI,kBAAA,EAAE,EAAC,2BADP;AAEI,kBAAA,UAAU,EAAE,GAFhB;AAGI,kBAAA,KAAK,EAAEtE,YAHX;AAII,kBAAA,QAAQ,EAAGuE,CAAD,IAAK;AAACtE,oBAAAA,eAAe,CAACsE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAgC;AAJpD;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAcI,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,EAAf;AAAmB,YAAA,EAAE,EAAE,EAAvB;AAA2B,YAAA,EAAE,EAAE,CAA/B;AAAkC,YAAA,EAAE,EAAE,CAAtC;AAAA,mCACA;AAAK,cAAA,KAAK,EAAE;AAACH,gBAAAA,MAAM,EAAC;AAAR,eAAZ;AAAA,qCACA,QAAC,WAAD;AAAa,gBAAA,SAAS,MAAtB;AAAuB,gBAAA,OAAO,EAAC,UAA/B;AAAA,wCACI,QAAC,UAAD;AAAY,kBAAA,OAAO,EAAC,2BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADJ,eAEI,QAAC,aAAD;AACI,kBAAA,EAAE,EAAC,2BADP;AAEI,kBAAA,UAAU,EAAE,GAFhB;AAGI,kBAAA,KAAK,EAAEpE,YAHX;AAII,kBAAA,QAAQ,EAAGqE,CAAD,IAAK;AAACpE,oBAAAA,eAAe,CAACoE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAf;AAAgC;AAJpD;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,kBAdJ,eA2BI,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,EAAf;AAAmB,YAAA,EAAE,EAAE,EAAvB;AAA2B,YAAA,EAAE,EAAE,CAA/B;AAAkC,YAAA,EAAE,EAAE,CAAtC;AAAA,mCACA;AAAK,cAAA,KAAK,EAAE;AAACH,gBAAAA,MAAM,EAAC;AAAR,eAAZ;AAAA,qCACA,QAAC,WAAD;AAAa,gBAAA,SAAS,MAAtB;AAAuB,gBAAA,OAAO,EAAC,UAA/B;AAAA,wCACA,QAAC,UAAD;AAAY,kBAAA,OAAO,EAAC,2BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,eAEI,QAAC,aAAD;AACI,kBAAA,EAAE,EAAC,2BADP;AAEI,kBAAA,UAAU,EAAE,EAFhB;AAGI,kBAAA,KAAK,EAAElE,IAHX;AAII,kBAAA,QAAQ,EAAGmE,CAAD,IAAK;AAAClE,oBAAAA,OAAO,CAACkE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAP;AAAwB;AAJ5C;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,kBA3BJ,eAwCI,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,EAAf;AAAmB,YAAA,EAAE,EAAE,EAAvB;AAA2B,YAAA,EAAE,EAAE,CAA/B;AAAkC,YAAA,EAAE,EAAE,CAAtC;AAAA,mCACA;AAAK,cAAA,KAAK,EAAE;AAACH,gBAAAA,MAAM,EAAC;AAAR,eAAZ;AAAA,qCACA,QAAC,WAAD;AAAa,gBAAA,SAAS,MAAtB;AAAuB,gBAAA,OAAO,EAAC,UAA/B;AAAA,wCACA,QAAC,UAAD;AAAY,kBAAA,OAAO,EAAC,2BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADA,eAEI,QAAC,aAAD;AACI,kBAAA,EAAE,EAAC,2BADP;AAEI,kBAAA,UAAU,EAAE,EAFhB;AAGI,kBAAA,IAAI,EAAC,QAHT;AAII,kBAAA,KAAK,EAAEhE,OAJX;AAKI,kBAAA,QAAQ,EAAGiE,CAAD,IAAK;AAAChE,oBAAAA,UAAU,CAACgE,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV;AAA2B;AAL/C;AAAA;AAAA;AAAA;AAAA,wBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,kBAxCJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHJ,eA0DI;AAAK,UAAA,KAAK,EAAE;AAACC,YAAAA,SAAS,EAAC,QAAX;AAAoBJ,YAAAA,MAAM,EAAC;AAA3B,WAAZ;AAAA,iCACA,QAAC,MAAD;AAAQ,YAAA,OAAO,EAAC,WAAhB;AAA4B,YAAA,KAAK,EAAC,SAAlC;AACA,YAAA,KAAK,EAAE;AACHH,cAAAA,MAAM,EAAC,MADJ;AAEHQ,cAAAA,QAAQ,EAAC;AAFN,aADP;AAKA,YAAA,OAAO,EAAE,MAAI;AACTjC,cAAAA,iBAAiB;AACpB,aAPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,gBA1DJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADC,gBAyED;AAAA;AAAA;AAAA;AAAA,cA1EJ,EA2EK5C,MAAM,IAAI,CAAV,gBACD;AAAA,gCACI;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADJ,eAEI;AAAG,UAAA,SAAS,EAAC,SAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFJ,EAIQY,WAAW,CAACkE,GAAZ,CAAgBC,IAAI,IAAE;AAClB,8BAAM;AAAA,oCACN,QAAC,IAAD;AAAM,cAAA,SAAS,MAAf;AAAA,sCACI,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,EAAE,EAAf;AAAmB,gBAAA,EAAE,EAAE,CAAvB;AAA0B,gBAAA,EAAE,EAAE,CAA9B;AAAiC,gBAAA,EAAE,EAAE,CAArC;AAAA,uCACI;AAAK,kBAAA,GAAG,EAAEA,IAAI,CAACC,KAAf;AACA,kBAAA,SAAS,EAAC;AADV;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,sBADJ,eAKI,QAAC,IAAD;AAAM,gBAAA,IAAI,MAAV;AAAW,gBAAA,EAAE,EAAE,EAAf;AAAmB,gBAAA,EAAE,EAAE,CAAvB;AAA0B,gBAAA,EAAE,EAAE,CAA9B;AAAiC,gBAAA,EAAE,EAAE,CAArC;AAAA,wCAEI;AAAI,kBAAA,SAAS,EAAC,gBAAd;AAAA,4BAAgCD,IAAI,CAACE;AAArC;AAAA;AAAA;AAAA;AAAA,wBAFJ,eAGI;AAAG,kBAAA,SAAS,EAAC,gBAAb;AAAA,4CAA0CF,IAAI,CAACG,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA,wBAHJ,eAII;AAAG,kBAAA,SAAS,EAAC,gBAAb;AAAA,mEAA4DH,IAAI,CAAC/D,QAAjE;AAAA;AAAA;AAAA;AAAA;AAAA,wBAJJ,eAKI;AAAG,kBAAA,SAAS,EAAC,gBAAb;AAAA,4CAA0C+D,IAAI,CAACf,QAA/C;AAAA;AAAA;AAAA;AAAA;AAAA,wBALJ,eAMI;AAAG,kBAAA,SAAS,EAAC,4BAAb;AAAA,qDAA0De,IAAI,CAACI,UAA/D;AAAA;AAAA;AAAA;AAAA;AAAA,wBANJ;AAAA;AAAA;AAAA;AAAA;AAAA,sBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,oBADM,eAeN;AACA,cAAA,KAAK,EAAE;AAACC,gBAAAA,eAAe,EAAC,SAAjB;AAA2Bf,gBAAAA,MAAM,EAAC,OAAlC;AAA0CC,gBAAAA,KAAK,EAAC,KAAhD;AAAsDE,gBAAAA,MAAM,EAAC,MAA7D;AAAoEa,gBAAAA,SAAS,EAAC;AAA9E;AADP;AAAA;AAAA;AAAA;AAAA,oBAfM;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAN;AAmBH,SApBD,CAJR,eA2BI;AAAI,UAAA,SAAS,EAAC,aAAd;AAAA,0DAAyDrE,QAAzD;AAAA;AAAA;AAAA;AAAA;AAAA,gBA3BJ,eA4BI;AAAG,UAAA,SAAS,EAAC,MAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5BJ,eA6BI;AAAI,UAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA7BJ,eA8BI,QAAC,IAAD;AAAM,UAAA,SAAS,MAAf;AAAA,kCACI,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,EAAf;AAAmB,YAAA,EAAE,EAAE,EAAvB;AAA2B,YAAA,EAAE,EAAE,CAA/B;AAAkC,YAAA,EAAE,EAAE,CAAtC;AAAA,mCACA;AAAK,cAAA,GAAG,EAAEF,aAAa,CAACkE,KAAxB;AACI,cAAA,SAAS,EAAC;AADd;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,kBADJ,eAKI,QAAC,IAAD;AAAM,YAAA,IAAI,MAAV;AAAW,YAAA,EAAE,EAAE,EAAf;AAAmB,YAAA,EAAE,EAAE,CAAvB;AAA0B,YAAA,EAAE,EAAE,CAA9B;AAAiC,YAAA,EAAE,EAAE,CAArC;AAAA,oCAEI;AAAI,cAAA,SAAS,EAAC,gBAAd;AAAA,yBAAgClE,aAAa,CAACwE,SAA9C,OAA0DxE,aAAa,CAACyE,QAAxE;AAAA;AAAA;AAAA;AAAA;AAAA,oBAFJ,eAGI;AAAG,cAAA,SAAS,EAAC,gBAAb;AAAA,oCAAsCzE,aAAa,CAACR,IAApD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAHJ,eAII;AAAG,cAAA,SAAS,EAAC,gBAAb;AAAA,uCAAyCQ,aAAa,CAAC0E,OAAvD;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAKI;AAAG,cAAA,SAAS,EAAC,gBAAb;AAAA,wCAA0C1E,aAAa,CAAC2E,QAAxD;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,kBALJ;AAAA;AAAA;AAAA;AAAA;AAAA,gBA9BJ,eA4CI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAC,SAAlC;AACA,UAAA,KAAK,EAAE;AACHpB,YAAAA,MAAM,EAAC,MADJ;AAEHQ,YAAAA,QAAQ,EAAC,MAFN;AAGHL,YAAAA,MAAM,EAAC;AAHJ,WADP;AAMA,UAAA,OAAO,EACH,MAAI;AACAvE,YAAAA,SAAS,CAAC,CAAD,CAAT;AACH,WATL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA5CJ,eAyDI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAC,SAAlC;AACA,UAAA,KAAK,EAAE;AACHoE,YAAAA,MAAM,EAAC,MADJ;AAEHQ,YAAAA,QAAQ,EAAC,MAFN;AAGHa,YAAAA,KAAK,EAAC,OAHH;AAIHlB,YAAAA,MAAM,EAAC;AAJJ,WADP;AAOA,UAAA,OAAO,EACH,MAAI;AACAf,YAAAA,cAAc;AACjB,WAVL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAzDJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADC,gBA0ED;AAAA;AAAA;AAAA;AAAA,cArJJ,EAsJKzD,MAAM,IAAE,CAAR,gBACD;AAAA,gCACA;AAAI,UAAA,SAAS,EAAC,MAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADA,eAEA;AAAI,UAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFA,eAGA;AAAK,UAAA,KAAK,EAAE;AAACwE,YAAAA,MAAM,EAAC,MAAR;AAAemB,YAAAA,QAAQ,EAAC;AAAxB,WAAZ;AAAA,iCACQ,QAAC,WAAD;AAAa,YAAA,SAAS,MAAtB;AAAuB,YAAA,OAAO,EAAC,UAA/B;AAAA,oCACI,QAAC,UAAD;AAAY,cAAA,OAAO,EAAC,2BAApB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,eAEI,QAAC,aAAD;AACI,cAAA,EAAE,EAAC,2BADP;AAEI,cAAA,UAAU,EAAE,EAFhB;AAGI,cAAA,KAAK,EAAEtE,KAHX;AAII,cAAA,QAAQ,EAAGoD,CAAD,IAAK;AAACnD,gBAAAA,QAAQ,CAACmD,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR;AAAyB;AAJ7C;AAAA;AAAA;AAAA;AAAA,oBAFJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADR;AAAA;AAAA;AAAA;AAAA,gBAHA,eAcQ,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAC,SAAlC;AACJ,UAAA,KAAK,EAAE;AACHN,YAAAA,MAAM,EAAC,MADJ;AAEHQ,YAAAA,QAAQ,EAAC,MAFN;AAGHL,YAAAA,MAAM,EAAC;AAHJ,WADH;AAMJ,UAAA,OAAO,EACH,MAAI;AACAvE,YAAAA,SAAS,CAAC,CAAD,CAAT;AACH,WATD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAdR,eA2BI,QAAC,MAAD;AAAQ,UAAA,OAAO,EAAC,WAAhB;AAA4B,UAAA,KAAK,EAAC,SAAlC;AACA,UAAA,KAAK,EAAE;AACHoE,YAAAA,MAAM,EAAC,MADJ;AAEHQ,YAAAA,QAAQ,EAAC,MAFN;AAGHa,YAAAA,KAAK,EAAC,OAHH;AAIHlB,YAAAA,MAAM,EAAC;AAJJ,WADP;AAOA,UAAA,OAAO,EACH,MAAI;AACAb,YAAAA,iBAAiB;AACpB,WAVL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBA3BJ;AAAA;AAAA;AAAA;AAAA;AAAA,cADC,gBA4CD;AAAA;AAAA;AAAA;AAAA,cAlMJ,EAmMK3D,MAAM,IAAE,CAAR,gBACD;AAAK,QAAA,KAAK,EAAE;AAAC4E,UAAAA,SAAS,EAAC;AAAX,SAAZ;AAAA,gCACA,QAAC,eAAD;AACY,UAAA,KAAK,EAAE;AACHP,YAAAA,MAAM,EAAC,OADJ;AAEHC,YAAAA,KAAK,EAAC,OAFH;AAGHC,YAAAA,KAAK,EAAC;AAHH;AADnB;AAAA;AAAA;AAAA;AAAA,gBADA,eAQA;AAAI,UAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBARA,eASA;AAAG,UAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBATA;AAAA;AAAA;AAAA;AAAA;AAAA,cADC,gBAcD;AAAA;AAAA;AAAA;AAAA,cAjNJ;AAAA;AAAA;AAAA;AAAA;AAAA,YArHJ;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ;AA2UH,CA/kBD;;GAAMxE,U;UAYcd,U;;;KAZdc,U;AAilBN,eAAeA,UAAf","sourcesContent":["import {useState, useEffect} from 'react';\nimport {useHistory} from 'react-router-dom';\nimport './PlaceOrder.css';\nimport LocationCityIcon from '@material-ui/icons/LocationCity';\nimport DescriptionIcon from '@material-ui/icons/Description';\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser';\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\nimport Grid from '@material-ui/core/Grid';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport FormControl from '@material-ui/core/FormControl';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Button from '@material-ui/core/Button';\nimport {toast} from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nconst jwt = require('jsonwebtoken');\n\ntoast.configure();\n\nconst PlaceOrder = ()=>{\n    const [status, setStatus] = useState(0);\n    const [addressLine1, setAddressLine1] = useState(\"\");\n    const [addressLine2, setAddressLine2] = useState(\"\");\n    const [city, setCity] = useState(\"\");\n    const [pinCode, setPinCode] = useState(\"\");\n    const [id, setId] = useState(\"\");\n    const [itemDetails, setItemDetails] = useState([]);\n    const [sellerDetails, setSellerDetails] = useState({});\n    const [minPrice, setMinPrice] = useState(undefined);\n    const [otp, setOtp] = useState(\"\");\n    const [otpIp, setOtpIp] = useState(\"\");\n    const history = useHistory();\n    \n    useEffect(()=>{\n        try{\n            console.log(localStorage.getItem(\"CustomerJwt\"))\n            const decodedToken = jwt.verify(localStorage.getItem(\"CustomerJwt\"), process.env.REACT_APP_JWT_SECRET);\n            setId(decodedToken._id);\n        }catch(err){\n            console.log(err);\n            toast.error(\n                'Please sign in first',\n                {\n                position: \"top-right\",\n                autoClose: 2000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                }\n            );\n            history.push('/signin');\n        }\n    },[]);\n\n    const setAddressHandler = ()=>{\n        if(addressLine1!==\"\"){\n            if(addressLine2!==\"\"){\n                if(city!==\"\"){\n                    if(pinCode!==\"\"){\n                        //ADDRESS INPUTS ARE VALID\n                        fetch(\n                            'http://localhost:3001/api/bid/getinitialbestseller',\n                            {\n                                method:\"post\",\n                                headers:{\n                                    \"Content-Type\":\"application/json\"\n                                },\n                                body:JSON.stringify({\n                                    city: city,\n                                    id: id\n                                })\n                            }\n                        ).then(res=>res.json())\n                        .then(result=>{\n                            if(result.message===\"Success\"){\n                                console.log(result)\n                                setSellerDetails(result.seller);\n                                setItemDetails(result.itemDetails);\n                                setMinPrice(result.minPrice);\n                                setStatus(1);\n                            }else if(result.message===\"No seller available\"){\n                                toast.error(\n                                    'No seller available for the given set of products....Please try again later',\n                                    {\n                                    position: \"top-right\",\n                                    autoClose: 2000,\n                                    hideProgressBar: false,\n                                    closeOnClick: true,\n                                    pauseOnHover: true,\n                                    draggable: true,\n                                    progress: undefined\n                                    }\n                                );\n                            }else if(result.message===\"Cart empty\"){\n                                toast.error(\n                                    'Your cart is empty',\n                                    {\n                                    position: \"top-right\",\n                                    autoClose: 2000,\n                                    hideProgressBar: false,\n                                    closeOnClick: true,\n                                    pauseOnHover: true,\n                                    draggable: true,\n                                    progress: undefined\n                                    }\n                                );\n                            }else{\n                                toast.error(\n                                    'Some error occured',\n                                    {\n                                    position: \"top-right\",\n                                    autoClose: 2000,\n                                    hideProgressBar: false,\n                                    closeOnClick: true,\n                                    pauseOnHover: true,\n                                    draggable: true,\n                                    progress: undefined\n                                    }\n                                );\n                            }\n                        })\n                    }else{\n                        toast.error(\n                            'Please enter pin code',\n                            {\n                            position: \"top-right\",\n                            autoClose: 2000,\n                            hideProgressBar: false,\n                            closeOnClick: true,\n                            pauseOnHover: true,\n                            draggable: true,\n                            progress: undefined\n                            }\n                        );\n                    }\n                }else{\n                    toast.error(\n                        'Please enter city name',\n                        {\n                        position: \"top-right\",\n                        autoClose: 2000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined\n                        }\n                    );\n                }\n            }else{\n                toast.error(\n                    'Please enter address line 2',\n                    {\n                    position: \"top-right\",\n                    autoClose: 2000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined\n                    }\n                );\n            }\n        }else{\n            toast.error(\n                'Please enter address line 1',\n                {\n                position: \"top-right\",\n                autoClose: 2000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                }\n            );\n        }\n    }\n\n    const sendOtpHandler = ()=>{\n        fetch(\n            'http://localhost:3001/api/bid/getotp',\n            {\n                method:\"post\",\n                \"headers\":{\n                    \"Content-Type\":\"application/json\"\n                },\n                body: JSON.stringify({\n                    customerId: id\n                })\n            }\n        ).then(res=>res.json())\n        .then(result=>{\n            console.log(result);\n            if(result.message===\"Success\"){\n                setOtp(result.otp);\n                setStatus(2);\n            }else{\n                toast.error(\n                    'Some error occured',\n                    {\n                    position: \"top-right\",\n                    autoClose: 2000,\n                    hideProgressBar: false,\n                    closeOnClick: true,\n                    pauseOnHover: true,\n                    draggable: true,\n                    progress: undefined\n                    }\n                );\n            }\n        })\n    }\n\n    const placeOrderHandler = ()=>{\n        if(otpIp==otp){\n            var items = [];\n            itemDetails.forEach(it=>{\n                items.push({\n                    itemId: it.id,\n                    quantity: it.quantity\n                })\n            });\n            console.log(items)\n            fetch(\n                'http://localhost:3001/api/bid/placeorder',\n                {\n                    method:\"post\",\n                    headers:{\n                        \"Content-Type\":\"application/json\"\n                    },\n                    body: JSON.stringify({\n                        customerId: id,\n                        initialSellerId: sellerDetails.sellerId,\n                        price: minPrice,\n                        itemList: items,\n                        addressLine1: addressLine1,\n                        addressLine2: addressLine2,\n                        city: city\n                    })\n                }\n            ).then(res=>res.json())\n            .then(result=>{\n                console.log(result)\n                if(result.message===\"Success\"){\n                    setStatus(3);\n                }else{\n                    toast.error(\n                        'Some error occured',\n                        {\n                        position: \"top-right\",\n                        autoClose: 2000,\n                        hideProgressBar: false,\n                        closeOnClick: true,\n                        pauseOnHover: true,\n                        draggable: true,\n                        progress: undefined\n                        }\n                    );\n                }\n            })\n        }else{\n            toast.error(\n                'Invalid OTP',\n                {\n                position: \"top-right\",\n                autoClose: 2000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined\n                }\n            ); \n        }\n    }\n\n    return(\n        <div className=\"place_order_all_content\">\n            <div className=\"top_section\">\n                <Grid container>\n                    <Grid item xs={4} sm={4} md={4} lg={4}>\n                        {status==0?\n                        <LocationCityIcon\n                            style={{\n                                height:\"50px\",\n                                width:\"50px\",\n                                color:\"gray\"\n                            }}\n                        />\n                        :\n                        <LocationCityIcon\n                        style={{\n                            height:\"50px\",\n                            width:\"50px\",\n                            color:\"#00cc00\"\n                        }}\n                        />\n                    }\n                    <br></br>\n                    {status==0?\n                        <CheckCircleIcon\n                            style={{\n                                height:\"20px\",\n                                width:\"20px\",\n                                color:\"gray\"\n                            }}\n                        />\n                        :\n                        <CheckCircleIcon\n                        style={{\n                            height:\"20px\",\n                            width:\"20px\",\n                            color:\"#00cc00\"\n                        }}\n                        />\n                    }\n                    </Grid>\n                    <Grid item xs={4} sm={4} md={4} lg={4}>\n                        {status<=1?\n                        <DescriptionIcon\n                            style={{\n                                height:\"50px\",\n                                width:\"50px\",\n                                color:\"gray\"\n                            }}\n                        />\n                        :\n                        <DescriptionIcon\n                        style={{\n                            height:\"50px\",\n                            width:\"50px\",\n                            color:\"#00cc00\"\n                        }}\n                        />\n                    }\n                    <br></br>\n                    {status<=1?\n                        <CheckCircleIcon\n                            style={{\n                                height:\"20px\",\n                                width:\"20px\",\n                                color:\"gray\"\n                            }}\n                        />\n                        :\n                        <CheckCircleIcon\n                        style={{\n                            height:\"20px\",\n                            width:\"20px\",\n                            color:\"#00cc00\"\n                        }}\n                        />\n                    }\n                    </Grid>\n                    <Grid item xs={4} sm={4} md={4} lg={4}>\n                        {status<=2?\n                        <VerifiedUserIcon\n                            style={{\n                                height:\"50px\",\n                                width:\"50px\",\n                                color:\"gray\"\n                            }}\n                        />\n                        :\n                        <VerifiedUserIcon\n                        style={{\n                            height:\"50px\",\n                            width:\"50px\",\n                            color:\"#00cc00\"\n                        }}\n                        />\n                    }\n                    <br></br>\n                    {status<=2?\n                        <CheckCircleIcon\n                            style={{\n                                height:\"20px\",\n                                width:\"20px\",\n                                color:\"gray\"\n                            }}\n                        />\n                        :\n                        <CheckCircleIcon\n                        style={{\n                            height:\"20px\",\n                            width:\"20px\",\n                            color:\"#00cc00\"\n                        }}\n                        />\n                    }\n                    </Grid>\n                </Grid>\n                \n            </div>\n            <div className=\"main_content\">\n                {status==0?\n                <div>\n                    <h1 className=\"step\">STEP 1 OF 3</h1>\n                    <p className=\"message\">Enter you location to proceed further</p>\n                    <Grid container>\n                        <Grid item xs={12} sm={12} md={6} lg={6}>\n                        <div style={{margin:\"10px\"}}>\n                        <FormControl fullWidth variant=\"outlined\">\n                            <InputLabel htmlFor=\"outlined-adornment-amount\">Address Line 1</InputLabel>\n                            <OutlinedInput\n                                id=\"outlined-adornment-amount\"\n                                labelWidth={110}\n                                value={addressLine1}\n                                onChange={(e)=>{setAddressLine1(e.target.value)}}\n                            />\n                        </FormControl>\n                        </div>\n                        </Grid>\n                        <Grid item xs={12} sm={12} md={6} lg={6}>\n                        <div style={{margin:\"10px\"}}>\n                        <FormControl fullWidth variant=\"outlined\">\n                            <InputLabel htmlFor=\"outlined-adornment-amount\">Address Line 2</InputLabel>\n                            <OutlinedInput\n                                id=\"outlined-adornment-amount\"\n                                labelWidth={110}\n                                value={addressLine2}\n                                onChange={(e)=>{setAddressLine2(e.target.value)}}\n                            />\n                        </FormControl>\n                        </div>\n                        </Grid>\n                        <Grid item xs={12} sm={12} md={6} lg={6}>\n                        <div style={{margin:\"10px\"}}>\n                        <FormControl fullWidth variant=\"outlined\">\n                        <InputLabel htmlFor=\"outlined-adornment-amount\">City Name</InputLabel>\n                            <OutlinedInput\n                                id=\"outlined-adornment-amount\"\n                                labelWidth={75}\n                                value={city}\n                                onChange={(e)=>{setCity(e.target.value)}}\n                            />\n                        </FormControl>\n                        </div>\n                        </Grid>\n                        <Grid item xs={12} sm={12} md={6} lg={6}>\n                        <div style={{margin:\"10px\"}}>\n                        <FormControl fullWidth variant=\"outlined\">\n                        <InputLabel htmlFor=\"outlined-adornment-amount\">Pin Code</InputLabel>\n                            <OutlinedInput\n                                id=\"outlined-adornment-amount\"\n                                labelWidth={65}\n                                type=\"number\"\n                                value={pinCode}\n                                onChange={(e)=>{setPinCode(e.target.value)}}\n                            />\n                        </FormControl>\n                        </div>\n                        </Grid>\n                    </Grid>\n                    <div style={{textAlign:\"center\",margin:\"10px\"}}>\n                    <Button variant=\"contained\" color=\"primary\"\n                    style={{\n                        height:\"40px\",\n                        fontSize:\"1rem\"\n                    }}\n                    onClick={()=>{\n                        setAddressHandler();\n                    }}>\n                        SAVE AND PROCEED\n                    </Button>\n                    </div>\n                </div>\n                :\n                <div></div>}\n                {status == 1?\n                <div>\n                    <h1 className=\"step\">STEP 2 OF 3</h1>\n                    <p className=\"message\">LIST OF PRODUCTS IN THE CART</p>\n                    {\n                        itemDetails.map(item=>{\n                            return<div>\n                            <Grid container>\n                                <Grid item xs={12} sm={6} md={6} lg={4}>\n                                    <img src={item.image}\n                                    className=\"product_image\"/>\n                                </Grid>\n                                <Grid item xs={12} sm={6} md={6} lg={8}\n                                >\n                                    <h3 className=\"product_detail\">{item.name}</h3>\n                                    <p className=\"product_detail\">CATEGORY : {item.category}</p>\n                                    <p className=\"product_detail\">MINIMUM PRICE WITHOUT BID : {item.minPrice}</p>\n                                    <p className=\"product_detail\">QUANTITY : {item.quantity}</p>\n                                    <p className=\"product_detail_total_price\">TOTAL PRICE : {item.totalPrice}</p>\n                                </Grid>\n                            </Grid>\n                            <div \n                            style={{backgroundColor:\"#538df6\",height:\"0.5px\",width:\"95%\",margin:\"auto\",marginTop:\"5px\"}}>\n                            </div>\n                            </div>\n                        })\n                    }\n                    \n                    <h3 className=\"total_price\">TOTAL PRICE OF ALL ITEMS : {minPrice}</h3>\n                    <p className=\"note\">Note : This is the maximum price that you may pay for your order and it may fall whenever a new seller makes a bid.</p>\n                    <h3 className=\"total_price\">SELLER WITH LOWEST PRICE BEFORE BIDDING PHASE</h3>\n                    <Grid container>\n                        <Grid item xs={12} sm={12} sm={6} lg={4}>\n                        <img src={sellerDetails.image}\n                            className=\"product_image\"/>\n                        </Grid>\n                        <Grid item xs={12} sm={6} md={6} lg={8}\n                        >\n                            <h3 className=\"product_detail\">{sellerDetails.firstName} {sellerDetails.lastName}</h3>\n                            <p className=\"product_detail\">CITY : {sellerDetails.city}</p>\n                            <p className=\"product_detail\">ADDRESS : {sellerDetails.address}</p>\n                            <p className=\"product_detail\">INTEREST : {sellerDetails.interest}</p>\n                            {/* <p className=\"product_detail\">ORDERS DELIVERED TILL NOW : 125</p> */}\n                        </Grid>\n                    </Grid>\n                    <Button variant=\"contained\" color=\"primary\"\n                    style={{\n                        height:\"40px\",\n                        fontSize:\"1rem\",\n                        margin:\"10px\"\n                    }}\n                    onClick={\n                        ()=>{\n                            setStatus(0);\n                        }\n                    }>\n                         PREVIOUS\n                    </Button>\n                    <Button variant=\"contained\" color=\"primary\"\n                    style={{\n                        height:\"40px\",\n                        fontSize:\"1rem\",\n                        float:\"right\",\n                        margin:\"10px\"\n                    }}\n                    onClick={\n                        ()=>{\n                            sendOtpHandler();\n                        }\n                    }>\n                        NEXT\n                    </Button>\n                </div>\n                :\n                <div></div>}\n                {status==2?\n                <div>\n                <h1 className=\"step\">STEP 3 OF 3</h1>\n                <h3 className=\"total_price\">ENTER THE OTP SENT TO YOUR EMAIL ID</h3>\n                <div style={{margin:\"10px\",maxWidth:\"768px\"}}>\n                        <FormControl fullWidth variant=\"outlined\">\n                            <InputLabel htmlFor=\"outlined-adornment-amount\">ENTER OTP</InputLabel>\n                            <OutlinedInput\n                                id=\"outlined-adornment-amount\"\n                                labelWidth={85}\n                                value={otpIp}\n                                onChange={(e)=>{setOtpIp(e.target.value)}}\n                            />\n                        </FormControl>\n                        </div>\n                        <Button variant=\"contained\" color=\"primary\"\n                    style={{\n                        height:\"40px\",\n                        fontSize:\"1rem\",\n                        margin:\"10px\"\n                    }}\n                    onClick={\n                        ()=>{\n                            setStatus(1);\n                        }\n                    }>\n                         PREVIOUS\n                    </Button>\n                    <Button variant=\"contained\" color=\"primary\"\n                    style={{\n                        height:\"40px\",\n                        fontSize:\"1rem\",\n                        float:\"right\",\n                        margin:\"10px\"\n                    }}\n                    onClick={\n                        ()=>{\n                            placeOrderHandler();\n                        }\n                    }>\n                        SUBMIT\n                    </Button>\n                </div>\n                :\n                <div></div>}\n                {status==3?\n                <div style={{textAlign:\"center\"}}>\n                <CheckCircleIcon\n                            style={{\n                                height:\"100px\",\n                                width:\"100px\",\n                                color:\"#00cc00\"\n                            }}\n                />\n                <h3 className=\"total_price\">ORDER PLACED SUCCESSFULLY</h3>\n                <p className=\"product_detail\">Your order has been successfully placed and addded to the bidding window.\n                Sellers within your city can now see your order in the bidding section and bid for the lowest price</p>\n                </div>\n                :\n                <div></div>}\n            </div>\n        </div>\n    )\n}\n\nexport default PlaceOrder;"]},"metadata":{},"sourceType":"module"}